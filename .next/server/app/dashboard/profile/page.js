(()=>{var e={};e.id=399,e.ids=[399],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8819:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(18962).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},10136:(e,a,s)=>{"use strict";s.d(a,{BT:()=>n,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>l});var r=s(60687);s(43210);var t=s(98297);let i=({children:e,className:a,...s})=>(0,r.jsx)("div",{className:(0,t.cn)("card",a),...s,children:e}),l=({children:e,className:a,...s})=>(0,r.jsx)("div",{className:(0,t.cn)("card-header",a),...s,children:e}),o=({children:e,className:a,...s})=>(0,r.jsx)("h3",{className:(0,t.cn)("card-title",a),...s,children:e}),n=({children:e,className:a,...s})=>(0,r.jsx)("p",{className:(0,t.cn)("card-description",a),...s,children:e}),c=({children:e,className:a,...s})=>(0,r.jsx)("div",{className:(0,t.cn)("card-content",a),...s,children:e})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16189:(e,a,s)=>{"use strict";var r=s(65773);s.o(r,"useParams")&&s.d(a,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(a,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(a,{useSearchParams:function(){return r.useSearchParams}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25334:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(18962).A)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},39304:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/erico/socialbuzz/my-socialbuzz-clone/app/dashboard/profile/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/erico/socialbuzz/my-socialbuzz-clone/app/dashboard/profile/page.tsx","default")},40083:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(18962).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},48444:(e,a,s)=>{"use strict";s.d(a,{p:()=>i});var r=s(60687);s(43210);var t=s(98297);let i=({label:e,error:a,fullWidth:s=!1,className:i,...l})=>(0,r.jsxs)("div",{className:(0,t.cn)("flex flex-col space-y-1",s&&"w-full"),children:[e&&(0,r.jsx)("label",{className:"text-sm font-medium text-foreground",children:e}),(0,r.jsx)("input",{className:(0,t.cn)("input",a&&"border-destructive",s&&"w-full",i),...l}),a&&(0,r.jsx)("span",{className:"text-sm text-destructive",children:a})]})},53493:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>m});var r=s(60687),t=s(43210),i=s(67876),l=s(10136),o=s(12294),n=s(48444),c=s(48622),d=s(30474);let u=(0,s(18962).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var p=s(8819),h=s(25334);function m(){let{user:e}=(0,c.A)(),[a,s]=(0,t.useState)({fullName:"",bio:"",website:"",location:"",socialLinks:{twitter:"",instagram:"",youtube:"",tiktok:""}}),[m,x]=(0,t.useState)(""),[b,g]=(0,t.useState)(!1),[v,f]=(0,t.useState)(!0),[y,j]=(0,t.useState)(""),[N,k]=(0,t.useState)(""),w=async()=>{try{f(!0);let e=localStorage.getItem("token"),a=await fetch("/api/v1/users/profile",{headers:{Authorization:`Bearer ${e}`}}),r=await a.json();if(r.success){let e=r.data;s({fullName:e.full_name||"",bio:e.bio||"",website:e.website||"",location:e.location||"",socialLinks:e.socialLinks||{twitter:"",instagram:"",youtube:"",tiktok:""}}),x(e.avatar||"")}else k("Failed to load profile data")}catch(e){console.error("Error loading profile:",e),k("Failed to load profile data")}finally{f(!1)}},z=e=>{let{name:a,value:r}=e.target;s(e=>({...e,[a]:r}))},A=(e,a)=>{s(s=>({...s,socialLinks:{...s.socialLinks,[e]:a}}))},P=async e=>{let a=e.target.files?.[0];if(!a)return;let s=new FormData;s.append("file",a),s.append("type","avatar");try{let e=localStorage.getItem("token"),a=await fetch("/api/v1/uploads",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s}),r=await a.json();r.success?(x(r.data.url),j("Avatar uploaded successfully!")):k("Failed to upload avatar")}catch(e){k("Error uploading avatar")}},C=async e=>{e.preventDefault(),g(!0),k(""),j("");try{let e=localStorage.getItem("token"),s=await fetch("/api/v1/users/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({fullName:a.fullName,avatar:m,bio:a.bio,website:a.website,location:a.location,socialLinks:a.socialLinks})}),r=await s.json();r.success?(j("Profile updated successfully!"),await w()):k(r.error||"Failed to update profile")}catch(e){k("Error updating profile")}finally{g(!1)}};return v?(0,r.jsx)(i.N,{activeTab:"profile",onTabChange:()=>{},children:(0,r.jsx)("div",{className:"p-6 flex items-center justify-center min-h-[400px]",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})})}):(0,r.jsx)(i.N,{activeTab:"profile",onTabChange:()=>{},children:(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage your profile information and public presence."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Profile Photo"}),(0,r.jsx)(l.BT,{children:"Upload a photo that represents you"})]}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.default,{src:m||"/default-avatar.png",alt:"Profile",width:128,height:128,className:"w-32 h-32 rounded-full object-cover border-4 border-gray-200"}),(0,r.jsxs)("label",{className:"absolute bottom-0 right-0 bg-indigo-600 text-white rounded-full p-2 cursor-pointer hover:bg-indigo-700",children:[(0,r.jsx)(u,{size:16}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:P,className:"hidden"})]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Click the camera icon to upload a new photo"})]})})]}),(0,r.jsxs)(l.Zp,{className:"lg:col-span-2",children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Basic Information"}),(0,r.jsx)(l.BT,{children:"Your basic profile information"})]}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[y&&(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-md text-sm",children:y}),N&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:N}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(n.p,{label:"Full Name",name:"fullName",value:a.fullName,onChange:z,required:!0}),(0,r.jsx)(n.p,{label:"Username",value:e?.username||"",disabled:!0,className:"bg-gray-50"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),(0,r.jsx)("textarea",{name:"bio",value:a.bio,onChange:z,rows:4,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Tell people about yourself..."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(n.p,{label:"Website",name:"website",value:a.website,onChange:z,placeholder:"https://yourwebsite.com"}),(0,r.jsx)(n.p,{label:"Location",name:"location",value:a.location,onChange:z,placeholder:"City, Country"})]}),(0,r.jsxs)(o.$,{type:"submit",loading:b,children:[(0,r.jsx)(p.A,{size:16,className:"mr-2"}),"Save Changes"]})]})})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Social Links"}),(0,r.jsx)(l.BT,{children:"Connect your social media accounts"})]}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(n.p,{label:"Twitter",value:a.socialLinks.twitter,onChange:e=>A("twitter",e.target.value),placeholder:"https://twitter.com/username"}),(0,r.jsx)(n.p,{label:"Instagram",value:a.socialLinks.instagram,onChange:e=>A("instagram",e.target.value),placeholder:"https://instagram.com/username"}),(0,r.jsx)(n.p,{label:"YouTube",value:a.socialLinks.youtube,onChange:e=>A("youtube",e.target.value),placeholder:"https://youtube.com/channel/..."}),(0,r.jsx)(n.p,{label:"TikTok",value:a.socialLinks.tiktok,onChange:e=>A("tiktok",e.target.value),placeholder:"https://tiktok.com/@username"})]})})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Public Profile"}),(0,r.jsx)(l.BT,{children:"Your public profile URL"})]}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(n.p,{value:`${window.location.origin}/profile/${e?.username}`,readOnly:!0,className:"bg-gray-50"}),(0,r.jsx)(o.$,{variant:"outline",onClick:()=>window.open(`/profile/${e?.username}`,"_blank"),children:(0,r.jsx)(h.A,{size:16})})]})})]})]})})})}},58869:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(18962).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67876:(e,a,s)=>{"use strict";s.d(a,{N:()=>h});var r=s(60687);s(43210);var t=s(16189),i=s(37897),l=s(58869),o=s(85778),n=s(84027),c=s(99891),d=s(40083),u=s(48622),p=s(98297);let h=({children:e,activeTab:a,onTabChange:s})=>{let{user:h,logout:m}=(0,u.A)(),x=(0,t.useRouter)(),b=[{id:"overview",label:"Overview",icon:i.A,path:"/dashboard"},{id:"profile",label:"Profile",icon:l.A,path:"/dashboard/profile"},{id:"transactions",label:"Transactions",icon:o.A,path:"/dashboard/transactions"},{id:"settings",label:"Settings",icon:n.A,path:"/dashboard/settings"}],g=e=>{x.push(e.path),s&&s(e.id)};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("nav",{className:"bg-white border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"SocialBuzz"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[h&&["admin","super_admin"].includes(h.role||"")&&(0,r.jsxs)("button",{onClick:()=>x.push("/admin"),className:"text-indigo-600 hover:text-indigo-700 text-sm font-medium px-3 py-2 rounded-md hover:bg-indigo-50 transition-colors",children:[(0,r.jsx)(c.A,{className:"w-4 h-4 inline mr-2"}),"Admin Panel"]}),(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:["Welcome, ",h?.fullName]}),(0,r.jsxs)("button",{onClick:()=>{m(),x.push("/")},className:"inline-flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-500 bg-white hover:bg-gray-50 hover:text-gray-700 transition-colors",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"w-64 bg-white rounded-lg shadow-sm border border-gray-200 h-fit",children:(0,r.jsx)("nav",{className:"p-4 space-y-2",children:b.map(e=>{let s=e.icon;return(0,r.jsxs)("button",{onClick:()=>g(e),className:(0,p.cn)("w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors cursor-pointer",a===e.id?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,r.jsx)(s,{className:"w-5 h-5 mr-3"}),e.label]},e.id)})})}),(0,r.jsx)("div",{className:"flex-1 ml-6",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e})})]})})})]})}},72469:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=s(65239),t=s(48088),i=s(88170),l=s.n(i),o=s(30893),n={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(a,n);let c={children:["",{children:["dashboard",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,39304)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/dashboard/profile/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,52608)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,99766)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,82366)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/erico/socialbuzz/my-socialbuzz-clone/app/dashboard/profile/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/dashboard/profile/page",pathname:"/dashboard/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},79281:(e,a,s)=>{Promise.resolve().then(s.bind(s,53493))},79953:(e,a,s)=>{Promise.resolve().then(s.bind(s,39304))},84027:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(18962).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},85778:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(18962).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},99891:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(18962).A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[4447,5868,474,3564],()=>s(72469));module.exports=r})();