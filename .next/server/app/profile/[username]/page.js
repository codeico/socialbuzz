(()=>{var e={};e.id=6381,e.ids=[6381],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7970:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/erico/socialbuzz/my-socialbuzz-clone/app/profile/[username]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/erico/socialbuzz/my-socialbuzz-clone/app/profile/[username]/page.tsx","default")},8869:(e,s,r)=>{Promise.resolve().then(r.bind(r,27363))},10136:(e,s,r)=>{"use strict";r.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>n,Zp:()=>i,aR:()=>l});var t=r(60687);r(43210);var a=r(98297);let i=({children:e,className:s,...r})=>(0,t.jsx)("div",{className:(0,a.cn)("card",s),...r,children:e}),l=({children:e,className:s,...r})=>(0,t.jsx)("div",{className:(0,a.cn)("card-header",s),...r,children:e}),n=({children:e,className:s,...r})=>(0,t.jsx)("h3",{className:(0,a.cn)("card-title",s),...r,children:e}),c=({children:e,className:s,...r})=>(0,t.jsx)("p",{className:(0,a.cn)("card-description",s),...r,children:e}),o=({children:e,className:s,...r})=>(0,t.jsx)("div",{className:(0,a.cn)("card-content",s),...r,children:e})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16189:(e,s,r)=>{"use strict";var t=r(65773);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27363:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var t=r(60687),a=r(43210),i=r(16189),l=r(10136),n=r(12294),c=r(48444);let o=(0,r(18962).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var d=r(98297);let m=({isOpen:e,onClose:s,title:r,children:i,size:l="md"})=>((0,a.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),(0,a.useEffect)(()=>{let r=e=>{"Escape"===e.key&&s()};return e&&document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[e,s]),e)?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:s}),(0,t.jsxs)("div",{className:(0,d.cn)("relative bg-background rounded-lg shadow-lg border max-h-[90vh] overflow-y-auto",{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"}[l],"w-full mx-4"),children:[r&&(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:r}),(0,t.jsx)("button",{onClick:s,className:"text-muted-foreground hover:text-foreground",children:(0,t.jsx)(o,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:(0,d.cn)("p-6",r&&"pt-0"),children:i})]})]}):null;var x=r(66520),u=r(30474),h=r(97992),p=r(40228),y=r(81620),f=r(67760),j=r(47342),v=r(80428),g=r(41312);function b(){let e=(0,i.useParams)().username,[s,r]=(0,a.useState)(null),[o,d]=(0,a.useState)(!0),[b,N]=(0,a.useState)(""),[k,w]=(0,a.useState)(!1),[z,A]=(0,a.useState)(""),[P,S]=(0,a.useState)(""),[_,C]=(0,a.useState)(!1),[M,q]=(0,a.useState)("bank_transfer"),E=(0,a.useCallback)(async()=>{try{d(!0),N("");let s=await fetch(`/api/v1/users/username/${e}`),t=await s.json();t.success?(r(t.data),N("")):N(t.error||"User not found")}catch(e){N("Failed to load profile")}finally{d(!1)}},[e]),R=async()=>{if(z&&s)try{let e=parseFloat(z),r=await fetch("/api/v1/payment/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({recipientId:s.id,amount:e,paymentMethod:M,message:P,isAnonymous:_})}),t=await r.json();t.success?window.location.href=t.data.paymentUrl:alert("Payment creation failed: "+t.error)}catch(e){console.error("Error creating donation:",e),alert("Failed to create donation. Please try again.")}},T=async()=>{if(navigator.share)try{await navigator.share({title:`Support ${s?.displayName} on SocialBuzz`,text:`Check out ${s?.displayName}'s profile and show your support!`,url:window.location.href})}catch(e){console.error("Error sharing:",e)}else await navigator.clipboard.writeText(window.location.href),alert("Profile link copied to clipboard!")};return o?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})}):b?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:(0,t.jsx)("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile Error"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:b}),(0,t.jsx)(n.$,{onClick:()=>E(),children:"Try Again"})]})}):s?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(u.default,{src:s.avatar||"/default-avatar.png",alt:s.displayName,width:80,height:80,className:"w-20 h-20 rounded-full object-cover"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:s.displayName}),(0,t.jsxs)("p",{className:"text-gray-600",children:["@",s.username]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[s.profile?.category&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(h.A,{size:16,className:"mr-1"}),s.profile.category]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(p.A,{size:16,className:"mr-1"}),"Joined ",(0,x.Yq)(s.joinedAt)]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(n.$,{variant:"outline",onClick:T,children:[(0,t.jsx)(y.A,{size:16,className:"mr-2"}),"Share"]}),(0,t.jsxs)(n.$,{onClick:()=>w(!0),children:[(0,t.jsx)(f.A,{size:16,className:"mr-2"}),"Support"]})]})]})})}),(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{children:"About"})}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:s.profile?.bio||"This user hasn't added a bio yet."}),s.profile?.social_links?.website&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)("a",{href:s.profile.social_links.website,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-indigo-600 hover:text-indigo-500",children:[(0,t.jsx)(j.A,{size:16,className:"mr-2"}),s.profile.social_links.website]})}),s.profile?.social_links&&(0,t.jsx)("div",{className:"mt-4 space-y-2",children:Object.entries(s.profile.social_links).filter(([e,s])=>"website"!==e&&s).map(([e,s])=>(0,t.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-indigo-600 hover:text-indigo-500 mr-4",children:[(0,t.jsx)(j.A,{size:16,className:"mr-2"}),e.charAt(0).toUpperCase()+e.slice(1)]},e))})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"Recent Supporters"}),(0,t.jsx)(l.BT,{children:"People who have recently supported this creator"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:"A"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Anonymous"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"2 hours ago"})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"font-medium text-green-600",children:(0,x.vv)(25e3)}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Keep up the great work!"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center text-white font-semibold",children:"S"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Sarah K."}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"1 day ago"})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"font-medium text-green-600",children:(0,x.vv)(5e4)}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Love your content!"})]})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{children:"Stats"})}),(0,t.jsxs)(l.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(v.A,{size:20,className:"mr-2 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Total Received"})]}),(0,t.jsx)("span",{className:"font-semibold",children:(0,x.vv)(s.stats.total_donations)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g.A,{size:20,className:"mr-2 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Supporters"})]}),(0,t.jsx)("span",{className:"font-semibold",children:s.stats.total_supporters})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(f.A,{size:20,className:"mr-2 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"This Month"})]}),(0,t.jsx)("span",{className:"font-semibold",children:(0,x.vv)(15e4)})]})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{children:["Support ",s.displayName]}),(0,t.jsx)(l.BT,{children:"Show your appreciation with a donation"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)(n.$,{onClick:()=>w(!0),className:"w-full",size:"lg",children:[(0,t.jsx)(f.A,{size:20,className:"mr-2"}),"Send Support"]})})]})]})]})}),(0,t.jsx)(m,{isOpen:k,onClose:()=>w(!1),title:"Support this Creator",size:"md",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Donation Amount (IDR)"}),(0,t.jsx)(c.p,{type:"number",value:z,onChange:e=>A(e.target.value),placeholder:"Enter amount (min. 1,000)",min:"1000",fullWidth:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),(0,t.jsxs)("select",{value:M,onChange:e=>q(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,t.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,t.jsx)("option",{value:"virtual_account",children:"Virtual Account"}),(0,t.jsx)("option",{value:"e_wallet",children:"E-Wallet"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (Optional)"}),(0,t.jsx)("textarea",{value:P,onChange:e=>S(e.target.value),placeholder:"Leave a message of support...",className:"w-full p-2 border border-gray-300 rounded-md",rows:3})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",id:"anonymous",checked:_,onChange:e=>C(e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,t.jsx)("label",{htmlFor:"anonymous",className:"ml-2 block text-sm text-gray-900",children:"Make this donation anonymous"})]}),(0,t.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>w(!1),className:"flex-1",children:"Cancel"}),(0,t.jsxs)(n.$,{onClick:R,disabled:!z||1e3>parseFloat(z),className:"flex-1",children:["Send ",z&&(0,x.vv)(parseFloat(z))]})]})]})})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile not found"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["The user @",e," does not exist."]})]})})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},40228:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(18962).A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},41312:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(18962).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},47342:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(18962).A)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},48444:(e,s,r)=>{"use strict";r.d(s,{p:()=>i});var t=r(60687);r(43210);var a=r(98297);let i=({label:e,error:s,fullWidth:r=!1,className:i,...l})=>(0,t.jsxs)("div",{className:(0,a.cn)("flex flex-col space-y-1",r&&"w-full"),children:[e&&(0,t.jsx)("label",{className:"text-sm font-medium text-foreground",children:e}),(0,t.jsx)("input",{className:(0,a.cn)("input",s&&"border-destructive",r&&"w-full",i),...l}),s&&(0,t.jsx)("span",{className:"text-sm text-destructive",children:s})]})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66520:(e,s,r)=>{"use strict";r.d(s,{Yq:()=>a,vv:()=>t});let t=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),a=e=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e))},67760:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(18962).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},80428:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(18962).A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},81620:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(18962).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},83289:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>o});var t=r(65239),a=r(48088),i=r(88170),l=r.n(i),n=r(30893),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(s,c);let o={children:["",{children:["profile",{children:["[username]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7970)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/profile/[username]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,52608)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,99766)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,82366)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/erico/socialbuzz/my-socialbuzz-clone/app/profile/[username]/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/profile/[username]/page",pathname:"/profile/[username]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},95717:(e,s,r)=>{Promise.resolve().then(r.bind(r,7970))},97992:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(18962).A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[4447,5868,474,3564],()=>r(83289));module.exports=t})();