(()=>{var e={};e.id=1965,e.ids=[1965],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5991:()=>{},10136:(e,s,t)=>{"use strict";t.d(s,{BT:()=>l,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i});var r=t(60687);t(43210);var a=t(98297);let n=({children:e,className:s,...t})=>(0,r.jsx)("div",{className:(0,a.cn)("card",s),...t,children:e}),i=({children:e,className:s,...t})=>(0,r.jsx)("div",{className:(0,a.cn)("card-header",s),...t,children:e}),o=({children:e,className:s,...t})=>(0,r.jsx)("h3",{className:(0,a.cn)("card-title",s),...t,children:e}),l=({children:e,className:s,...t})=>(0,r.jsx)("p",{className:(0,a.cn)("card-description",s),...t,children:e}),c=({children:e,className:s,...t})=>(0,r.jsx)("div",{className:(0,a.cn)("card-content",s),...t,children:e})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14754:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/erico/socialbuzz/my-socialbuzz-clone/app/widget/[creatorId]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/erico/socialbuzz/my-socialbuzz-clone/app/widget/[creatorId]/page.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19684:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var r=t(60687),a=t(43210),n=t(16189),i=t(10136),o=t(12294),l=t(48444),c=t(30474),d=t(66520),m=t(40463),u=t(25541),x=t(41312),p=t(67760),h=t(80428),g=t(33872);function y(){let e=(0,n.useParams)().creatorId,[s,t]=(0,a.useState)(null),[y,j]=(0,a.useState)(null),[b,f]=(0,a.useState)([]),[v,N]=(0,a.useState)({amount:"",message:"",donorName:"",isAnonymous:!1}),[w,z]=(0,a.useState)(!1),[k,A]=(0,a.useState)(!1);(0,a.useCallback)(async()=>{try{t({id:e,username:"johndoe",fullName:"John Doe",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",bio:"Content creator passionate about technology and education",totalEarnings:125e4,supporterCount:42,isVerified:!0})}catch(e){console.error("Error loading creator:",e)}},[e]),(0,a.useCallback)(()=>{let s=(0,m.io)("http://localhost:3000",{transports:["websocket","polling"]});return s.on("connect",()=>{console.log("Connected to WebSocket"),s.emit("join-donation-widget",{creatorId:e,widgetId:`widget-${Date.now()}`})}),s.on("widget-connected",e=>{console.log("Widget connected:",e)}),s.on("donation-alert",e=>{console.log("New donation received:",e),f(s=>[e,...s.slice(0,4)])}),j(s),()=>s.disconnect()},[e]);let q=e=>{N(s=>({...s,amount:e.toString()}))},C=(e,s)=>{N(t=>({...t,[e]:s}))},P=async()=>{if(!v.amount||5e3>parseFloat(v.amount))return void alert("Minimum donation amount is Rp 5,000");z(!0);try{let s=await fetch("/api/v1/payments/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipientId:e,amount:parseFloat(v.amount),message:v.message,donorName:v.isAnonymous?"Anonymous":v.donorName,isAnonymous:v.isAnonymous,type:"donation"})}),t=await s.json();t.success?(window.open(t.data.paymentUrl,"_blank"),A(!0),N({amount:"",message:"",donorName:"",isAnonymous:!1}),setTimeout(()=>A(!1),3e3)):alert("Failed to create payment: "+t.error)}catch(e){console.error("Error creating donation:",e),alert("Failed to process donation")}finally{z(!1)}};return s?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,r.jsxs)(i.Zp,{className:"overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 h-20"}),(0,r.jsxs)(i.Wu,{className:"relative pt-0",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-4 -mt-10",children:[(0,r.jsx)(c.default,{src:s.avatar,alt:s.fullName,width:80,height:80,className:"w-20 h-20 rounded-full border-4 border-white shadow-lg"}),(0,r.jsxs)("div",{className:"flex-1 pt-12",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:s.fullName}),s.isVerified&&(0,r.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white text-xs",children:"✓"})})]}),(0,r.jsxs)("p",{className:"text-gray-600",children:["@",s.username]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:s.bio})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-1 text-green-600",children:[(0,r.jsx)(u.A,{size:16}),(0,r.jsx)("span",{className:"font-bold",children:(0,d.vv)(s.totalEarnings)})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Total Earnings"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-1 text-blue-600",children:[(0,r.jsx)(x.A,{size:16}),(0,r.jsx)("span",{className:"font-bold",children:s.supporterCount})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Supporters"})]})]})]})]}),k&&(0,r.jsx)(i.Zp,{className:"border-green-200 bg-green-50",children:(0,r.jsxs)(i.Wu,{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-green-700",children:[(0,r.jsx)(p.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"font-medium",children:"Thank you for your donation! \uD83C\uDF89"})]}),(0,r.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"Your payment is being processed. The creator will be notified once it's completed."})]})}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{className:"flex items-center",children:[(0,r.jsx)(h.A,{className:"mr-2 h-5 w-5"}),"Support ",s.fullName]}),(0,r.jsx)(i.BT,{children:"Show your appreciation with a donation"})]}),(0,r.jsxs)(i.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Choose Amount"}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[1e4,25e3,5e4,1e5,25e4,5e5].map(e=>(0,r.jsx)(o.$,{variant:v.amount===e.toString()?"primary":"outline",onClick:()=>q(e),className:"text-sm",children:(0,d.vv)(e)},e))}),(0,r.jsx)(l.p,{placeholder:"Custom amount (min Rp 5,000)",value:v.amount,onChange:e=>C("amount",e.target.value),type:"number",min:"5000"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (Optional)"}),(0,r.jsx)("textarea",{placeholder:"Say something nice to the creator...",value:v.message,onChange:e=>C("message",e.target.value),rows:3,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 resize-none",maxLength:200}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[v.message.length,"/200 characters"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name"}),(0,r.jsx)(l.p,{placeholder:"Enter your name",value:v.donorName,onChange:e=>C("donorName",e.target.value),disabled:v.isAnonymous}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"anonymous",checked:v.isAnonymous,onChange:e=>C("isAnonymous",e.target.checked),className:"rounded border-gray-300"}),(0,r.jsx)("label",{htmlFor:"anonymous",className:"text-sm text-gray-600",children:"Donate anonymously"})]})]}),(0,r.jsx)(o.$,{onClick:P,disabled:w||!v.amount,className:"w-full py-3 text-lg",children:w?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{className:"mr-2 h-5 w-5"}),"Donate ",v.amount&&(0,d.vv)(parseFloat(v.amount))]})})]})]}),b.length>0&&(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{className:"flex items-center",children:[(0,r.jsx)(g.A,{className:"mr-2 h-5 w-5"}),"Recent Donations"]}),(0,r.jsx)(i.BT,{children:"Latest support from the community"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)("div",{className:"space-y-3",children:b.map(e=>(0,r.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-400 to-red-500 rounded-full flex items-center justify-center",children:(0,r.jsx)(p.A,{className:"h-4 w-4 text-white"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"font-medium text-indigo-600",children:(0,d.vv)(e.amount)}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["from ",e.isAnonymous?"Anonymous":e.donorName]})]}),e.message&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:['"',e.message,'"']}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:new Date(e.timestamp).toLocaleTimeString()})]})]},e.id))})})]}),(0,r.jsxs)("div",{className:"text-center text-sm text-gray-500",children:[(0,r.jsx)("p",{children:"Powered by SocialBuzz"}),(0,r.jsx)("p",{children:"Secure payments • Real-time notifications"})]})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading creator..."})]})})}},21820:e=>{"use strict";e.exports=require("os")},25541:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(18962).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28579:(e,s,t)=>{Promise.resolve().then(t.bind(t,14754))},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},41312:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(18962).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},44853:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=t(65239),a=t(48088),n=t(88170),i=t.n(n),o=t(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let c={children:["",{children:["widget",{children:["[creatorId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,14754)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/widget/[creatorId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,52608)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,99766)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,82366)),"/Users/erico/socialbuzz/my-socialbuzz-clone/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/erico/socialbuzz/my-socialbuzz-clone/app/widget/[creatorId]/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/widget/[creatorId]/page",pathname:"/widget/[creatorId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},48444:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var r=t(60687);t(43210);var a=t(98297);let n=({label:e,error:s,fullWidth:t=!1,className:n,...i})=>(0,r.jsxs)("div",{className:(0,a.cn)("flex flex-col space-y-1",t&&"w-full"),children:[e&&(0,r.jsx)("label",{className:"text-sm font-medium text-foreground",children:e}),(0,r.jsx)("input",{className:(0,a.cn)("input",s&&"border-destructive",t&&"w-full",n),...i}),s&&(0,r.jsx)("span",{className:"text-sm text-destructive",children:s})]})},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66520:(e,s,t)=>{"use strict";t.d(s,{Yq:()=>a,vv:()=>r});let r=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),a=e=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e))},67760:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(18962).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},80428:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(18962).A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},80702:()=>{},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},91645:e=>{"use strict";e.exports=require("net")},94235:(e,s,t)=>{Promise.resolve().then(t.bind(t,19684))},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[4447,5868,474,5883,3564],()=>t(44853));module.exports=r})();