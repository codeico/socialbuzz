(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{3574:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>s});var o=r(5155);r(2115);var a=r(4236);function s(e){let{children:t}=e;return(0,o.jsx)(a.O,{children:t})}},4236:(e,t,r)=>{"use strict";r.d(t,{A:()=>s,O:()=>n});var o=r(2115);let a=(0,o.createContext)(void 0),s=()=>{let e=(0,o.useContext)(a);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},n=e=>{let{children:t}=e,[r,s]=(0,o.useState)(null),[n,l]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=localStorage.getItem("token");e?c(e):l(!1)},[]);let c=async e=>{try{let t=await fetch("/api/v1/users/me",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();e.success?s(e.data):localStorage.removeItem("token")}else localStorage.removeItem("token")}catch(e){console.error("Error fetching user:",e),localStorage.removeItem("token")}finally{l(!1)}},i=async e=>{try{let t=await fetch("/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();return r.success&&(localStorage.setItem("token",r.data.token),s(r.data.user)),r}catch(e){return console.error("Login error:",e),{success:!1,error:"Network error"}}},u=async e=>{try{let t=await fetch("/api/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();return r.success&&(localStorage.setItem("token",r.data.token),s(r.data.user)),r}catch(e){return console.error("Registration error:",e),{success:!1,error:"Network error"}}};return o.createElement(a.Provider,{value:{user:r,loading:n,login:i,register:u,logout:()=>{localStorage.removeItem("token"),s(null)},updateUser:e=>{r&&s({...r,...e})}}},t)}},5299:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c"}},7510:(e,t,r)=>{Promise.resolve().then(r.bind(r,3574)),Promise.resolve().then(r.t.bind(r,5299,23)),Promise.resolve().then(r.t.bind(r,8563,23))},8563:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[575,8441,1684,7358],()=>t(7510)),_N_E=e.O()}]);