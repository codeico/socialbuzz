(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6381],{238:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},339:(e,s,t)=>{Promise.resolve().then(t.bind(t,9103))},1177:(e,s,t)=>{"use strict";t.d(s,{Yq:()=>r,vv:()=>a});let a=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),r=e=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e))},1202:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>l,aR:()=>n});var a=t(5155);t(2115);var r=t(6629);let l=e=>{let{children:s,className:t,...l}=e;return(0,a.jsx)("div",{className:(0,r.cn)("card",t),...l,children:s})},n=e=>{let{children:s,className:t,...l}=e;return(0,a.jsx)("div",{className:(0,r.cn)("card-header",t),...l,children:s})},i=e=>{let{children:s,className:t,...l}=e;return(0,a.jsx)("h3",{className:(0,r.cn)("card-title",t),...l,children:s})},c=e=>{let{children:s,className:t,...l}=e;return(0,a.jsx)("p",{className:(0,r.cn)("card-description",t),...l,children:s})},d=e=>{let{children:s,className:t,...l}=e;return(0,a.jsx)("div",{className:(0,r.cn)("card-content",t),...l,children:s})}},1976:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},4516:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4912:(e,s,t)=>{"use strict";t.d(s,{$:()=>l});var a=t(5155);t(2115);var r=t(6629);let l=e=>{let{children:s,variant:t="primary",size:l="md",icon:n,loading:i=!1,fullWidth:c=!1,className:d,disabled:o,...m}=e;return(0,a.jsxs)("button",{className:(0,r.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",destructive:"btn-destructive",outline:"btn-outline",ghost:"btn-ghost",link:"btn-link"}[t],{sm:"btn-sm",md:"h-10 px-4 py-2",lg:"btn-lg"}[l],c&&"w-full",d),disabled:o||i,...m,children:[i&&(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),!i&&n&&(0,a.jsx)(n,{className:"w-4 h-4 mr-2"}),s]})}},5695:(e,s,t)=>{"use strict";var a=t(8999);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},6076:(e,s,t)=>{"use strict";t.d(s,{p:()=>l});var a=t(5155);t(2115);var r=t(6629);let l=e=>{let{label:s,error:t,fullWidth:l=!1,className:n,...i}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("flex flex-col space-y-1",l&&"w-full"),children:[s&&(0,a.jsx)("label",{className:"text-sm font-medium text-foreground",children:s}),(0,a.jsx)("input",{className:(0,r.cn)("input",t&&"border-destructive",l&&"w-full",n),...i}),t&&(0,a.jsx)("span",{className:"text-sm text-destructive",children:t})]})}},6516:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},6629:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var a=t(2596),r=t(9688);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},6654:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"useMergedRef",{enumerable:!0,get:function(){return r}});let a=t(2115);function r(e,s){let t=(0,a.useRef)(null),r=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=t.current;e&&(t.current=null,e());let s=r.current;s&&(r.current=null,s())}else e&&(t.current=l(e,a)),s&&(r.current=l(s,a))},[e,s])}function l(e,s){if("function"!=typeof e)return e.current=s,()=>{e.current=null};{let t=e(s);return"function"==typeof t?t:()=>e(null)}}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},7580:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},8164:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},9074:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},9103:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var a=t(5155),r=t(2115),l=t(5695),n=t(1202),i=t(4912),c=t(6076);let d=(0,t(2895).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var o=t(6629);let m=e=>{let{isOpen:s,onClose:t,title:l,children:n,size:i="md"}=e;return((0,r.useEffect)(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return s&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[s,t]),s)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),(0,a.jsxs)("div",{className:(0,o.cn)("relative bg-background rounded-lg shadow-lg border max-h-[90vh] overflow-y-auto",{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"}[i],"w-full mx-4"),children:[l&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:l}),(0,a.jsx)("button",{onClick:t,className:"text-muted-foreground hover:text-foreground",children:(0,a.jsx)(d,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:(0,o.cn)("p-6",l&&"pt-0"),children:n})]})]}):null};var x=t(1177),u=t(6766),h=t(4516),f=t(9074),p=t(6516),j=t(1976),y=t(8164),v=t(238),g=t(7580);function N(){var e,s,t,d,o;let N=(0,l.useParams)().username,[b,k]=(0,r.useState)(null),[w,A]=(0,r.useState)(!0),[S,_]=(0,r.useState)(""),[C,M]=(0,r.useState)(!1),[P,z]=(0,r.useState)(""),[R,E]=(0,r.useState)(""),[T,B]=(0,r.useState)(!1),[Z,O]=(0,r.useState)("bank_transfer"),F=(0,r.useCallback)(async()=>{try{A(!0),_("");let e=await fetch("/api/v1/users/username/".concat(N)),s=await e.json();s.success?(k(s.data),_("")):_(s.error||"User not found")}catch(e){_("Failed to load profile")}finally{A(!1)}},[N]);(0,r.useEffect)(()=>{N&&F()},[N,F]);let D=async()=>{if(P&&b)try{let e=parseFloat(P),s=await fetch("/api/v1/payment/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({recipientId:b.id,amount:e,paymentMethod:Z,message:R,isAnonymous:T})}),t=await s.json();t.success?window.location.href=t.data.paymentUrl:alert("Payment creation failed: "+t.error)}catch(e){console.error("Error creating donation:",e),alert("Failed to create donation. Please try again.")}},q=async()=>{if(navigator.share)try{await navigator.share({title:"Support ".concat(null==b?void 0:b.displayName," on SocialBuzz"),text:"Check out ".concat(null==b?void 0:b.displayName,"'s profile and show your support!"),url:window.location.href})}catch(e){console.error("Error sharing:",e)}else await navigator.clipboard.writeText(window.location.href),alert("Profile link copied to clipboard!")};return w?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})}):S?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"bg-red-100 rounded-full p-4 w-16 h-16 mx-auto mb-4",children:(0,a.jsx)("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile Error"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:S}),(0,a.jsx)(i.$,{onClick:()=>F(),children:"Try Again"})]})}):b?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(u.default,{src:b.avatar||"/default-avatar.png",alt:b.displayName,width:80,height:80,className:"w-20 h-20 rounded-full object-cover"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:b.displayName}),(0,a.jsxs)("p",{className:"text-gray-600",children:["@",b.username]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[(null==(e=b.profile)?void 0:e.category)&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.A,{size:16,className:"mr-1"}),b.profile.category]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.A,{size:16,className:"mr-1"}),"Joined ",(0,x.Yq)(b.joinedAt)]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(i.$,{variant:"outline",onClick:q,children:[(0,a.jsx)(p.A,{size:16,className:"mr-2"}),"Share"]}),(0,a.jsxs)(i.$,{onClick:()=>M(!0),children:[(0,a.jsx)(j.A,{size:16,className:"mr-2"}),"Support"]})]})]})})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"About"})}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:(null==(s=b.profile)?void 0:s.bio)||"This user hasn't added a bio yet."}),(null==(d=b.profile)||null==(t=d.social_links)?void 0:t.website)&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("a",{href:b.profile.social_links.website,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-indigo-600 hover:text-indigo-500",children:[(0,a.jsx)(y.A,{size:16,className:"mr-2"}),b.profile.social_links.website]})}),(null==(o=b.profile)?void 0:o.social_links)&&(0,a.jsx)("div",{className:"mt-4 space-y-2",children:Object.entries(b.profile.social_links).filter(e=>{let[s,t]=e;return"website"!==s&&t}).map(e=>{let[s,t]=e;return(0,a.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-indigo-600 hover:text-indigo-500 mr-4",children:[(0,a.jsx)(y.A,{size:16,className:"mr-2"}),s.charAt(0).toUpperCase()+s.slice(1)]},s)})})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Recent Supporters"}),(0,a.jsx)(n.BT,{children:"People who have recently supported this creator"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:"A"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Anonymous"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"2 hours ago"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-medium text-green-600",children:(0,x.vv)(25e3)}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Keep up the great work!"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center text-white font-semibold",children:"S"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Sarah K."}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"1 day ago"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-medium text-green-600",children:(0,x.vv)(5e4)}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Love your content!"})]})]})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Stats"})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(v.A,{size:20,className:"mr-2 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Total Received"})]}),(0,a.jsx)("span",{className:"font-semibold",children:(0,x.vv)(b.stats.total_donations)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.A,{size:20,className:"mr-2 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Supporters"})]}),(0,a.jsx)("span",{className:"font-semibold",children:b.stats.total_supporters})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j.A,{size:20,className:"mr-2 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"This Month"})]}),(0,a.jsx)("span",{className:"font-semibold",children:(0,x.vv)(15e4)})]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{children:["Support ",b.displayName]}),(0,a.jsx)(n.BT,{children:"Show your appreciation with a donation"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)(i.$,{onClick:()=>M(!0),className:"w-full",size:"lg",children:[(0,a.jsx)(j.A,{size:20,className:"mr-2"}),"Send Support"]})})]})]})]})}),(0,a.jsx)(m,{isOpen:C,onClose:()=>M(!1),title:"Support this Creator",size:"md",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Donation Amount (IDR)"}),(0,a.jsx)(c.p,{type:"number",value:P,onChange:e=>z(e.target.value),placeholder:"Enter amount (min. 1,000)",min:"1000",fullWidth:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),(0,a.jsxs)("select",{value:Z,onChange:e=>O(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,a.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,a.jsx)("option",{value:"virtual_account",children:"Virtual Account"}),(0,a.jsx)("option",{value:"e_wallet",children:"E-Wallet"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (Optional)"}),(0,a.jsx)("textarea",{value:R,onChange:e=>E(e.target.value),placeholder:"Leave a message of support...",className:"w-full p-2 border border-gray-300 rounded-md",rows:3})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"anonymous",checked:T,onChange:e=>B(e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"anonymous",className:"ml-2 block text-sm text-gray-900",children:"Make this donation anonymous"})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,a.jsx)(i.$,{variant:"outline",onClick:()=>M(!1),className:"flex-1",children:"Cancel"}),(0,a.jsxs)(i.$,{onClick:D,disabled:!P||1e3>parseFloat(P),className:"flex-1",children:["Send ",P&&(0,x.vv)(parseFloat(P))]})]})]})})]}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile not found"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["The user @",N," does not exist."]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4699,6766,8441,1684,7358],()=>s(339)),_N_E=e.O()}]);