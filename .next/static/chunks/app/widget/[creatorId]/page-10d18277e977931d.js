(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1965],{238:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},1177:(e,s,t)=>{"use strict";t.d(s,{Yq:()=>n,vv:()=>a});let a=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),n=e=>new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e))},1202:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>i,Zp:()=>r,aR:()=>l});var a=t(5155);t(2115);var n=t(6629);let r=e=>{let{children:s,className:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("card",t),...r,children:s})},l=e=>{let{children:s,className:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("card-header",t),...r,children:s})},i=e=>{let{children:s,className:t,...r}=e;return(0,a.jsx)("h3",{className:(0,n.cn)("card-title",t),...r,children:s})},c=e=>{let{children:s,className:t,...r}=e;return(0,a.jsx)("p",{className:(0,n.cn)("card-description",t),...r,children:s})},o=e=>{let{children:s,className:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("card-content",t),...r,children:s})}},1366:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},1976:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3109:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},3413:(e,s,t)=>{Promise.resolve().then(t.bind(t,6228))},4912:(e,s,t)=>{"use strict";t.d(s,{$:()=>r});var a=t(5155);t(2115);var n=t(6629);let r=e=>{let{children:s,variant:t="primary",size:r="md",icon:l,loading:i=!1,fullWidth:c=!1,className:o,disabled:d,...m}=e;return(0,a.jsxs)("button",{className:(0,n.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",destructive:"btn-destructive",outline:"btn-outline",ghost:"btn-ghost",link:"btn-link"}[t],{sm:"btn-sm",md:"h-10 px-4 py-2",lg:"btn-lg"}[r],c&&"w-full",o),disabled:d||i,...m,children:[i&&(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),!i&&l&&(0,a.jsx)(l,{className:"w-4 h-4 mr-2"}),s]})}},6076:(e,s,t)=>{"use strict";t.d(s,{p:()=>r});var a=t(5155);t(2115);var n=t(6629);let r=e=>{let{label:s,error:t,fullWidth:r=!1,className:l,...i}=e;return(0,a.jsxs)("div",{className:(0,n.cn)("flex flex-col space-y-1",r&&"w-full"),children:[s&&(0,a.jsx)("label",{className:"text-sm font-medium text-foreground",children:s}),(0,a.jsx)("input",{className:(0,n.cn)("input",t&&"border-destructive",r&&"w-full",l),...i}),t&&(0,a.jsx)("span",{className:"text-sm text-destructive",children:t})]})}},6228:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(5155),n=t(2115),r=t(5695),l=t(1202),i=t(4912),c=t(6076),o=t(6766),d=t(1177),m=t(4298),u=t(3109),x=t(7580),h=t(1976),p=t(238),g=t(1366);function y(){let e=(0,r.useParams)().creatorId,[s,t]=(0,n.useState)(null),[y,j]=(0,n.useState)(null),[f,N]=(0,n.useState)([]),[b,v]=(0,n.useState)({amount:"",message:"",donorName:"",isAnonymous:!1}),[w,k]=(0,n.useState)(!1),[A,C]=(0,n.useState)(!1),S=(0,n.useCallback)(async()=>{try{t({id:e,username:"johndoe",fullName:"John Doe",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",bio:"Content creator passionate about technology and education",totalEarnings:125e4,supporterCount:42,isVerified:!0})}catch(e){console.error("Error loading creator:",e)}},[e]),D=(0,n.useCallback)(()=>{let s=(0,m.io)("http://localhost:3000",{transports:["websocket","polling"]});return s.on("connect",()=>{console.log("Connected to WebSocket"),s.emit("join-donation-widget",{creatorId:e,widgetId:"widget-".concat(Date.now())})}),s.on("widget-connected",e=>{console.log("Widget connected:",e)}),s.on("donation-alert",e=>{console.log("New donation received:",e),N(s=>[e,...s.slice(0,4)])}),j(s),()=>s.disconnect()},[e]);(0,n.useEffect)(()=>{S(),D()},[S,D]);let M=e=>{v(s=>({...s,amount:e.toString()}))},F=(e,s)=>{v(t=>({...t,[e]:s}))},_=async()=>{if(!b.amount||5e3>parseFloat(b.amount))return void alert("Minimum donation amount is Rp 5,000");k(!0);try{let s=await fetch("/api/v1/payments/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipientId:e,amount:parseFloat(b.amount),message:b.message,donorName:b.isAnonymous?"Anonymous":b.donorName,isAnonymous:b.isAnonymous,type:"donation"})}),t=await s.json();t.success?(window.open(t.data.paymentUrl,"_blank"),C(!0),v({amount:"",message:"",donorName:"",isAnonymous:!1}),setTimeout(()=>C(!1),3e3)):alert("Failed to create payment: "+t.error)}catch(e){console.error("Error creating donation:",e),alert("Failed to process donation")}finally{k(!1)}};return s?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,a.jsxs)(l.Zp,{className:"overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 h-20"}),(0,a.jsxs)(l.Wu,{className:"relative pt-0",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-4 -mt-10",children:[(0,a.jsx)(o.default,{src:s.avatar,alt:s.fullName,width:80,height:80,className:"w-20 h-20 rounded-full border-4 border-white shadow-lg"}),(0,a.jsxs)("div",{className:"flex-1 pt-12",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:s.fullName}),s.isVerified&&(0,a.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-xs",children:"âœ“"})})]}),(0,a.jsxs)("p",{className:"text-gray-600",children:["@",s.username]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:s.bio})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-1 text-green-600",children:[(0,a.jsx)(u.A,{size:16}),(0,a.jsx)("span",{className:"font-bold",children:(0,d.vv)(s.totalEarnings)})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Total Earnings"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-1 text-blue-600",children:[(0,a.jsx)(x.A,{size:16}),(0,a.jsx)("span",{className:"font-bold",children:s.supporterCount})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Supporters"})]})]})]})]}),A&&(0,a.jsx)(l.Zp,{className:"border-green-200 bg-green-50",children:(0,a.jsxs)(l.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-green-700",children:[(0,a.jsx)(h.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Thank you for your donation! \uD83C\uDF89"})]}),(0,a.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"Your payment is being processed. The creator will be notified once it's completed."})]})}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center",children:[(0,a.jsx)(p.A,{className:"mr-2 h-5 w-5"}),"Support ",s.fullName]}),(0,a.jsx)(l.BT,{children:"Show your appreciation with a donation"})]}),(0,a.jsxs)(l.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Choose Amount"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[1e4,25e3,5e4,1e5,25e4,5e5].map(e=>(0,a.jsx)(i.$,{variant:b.amount===e.toString()?"primary":"outline",onClick:()=>M(e),className:"text-sm",children:(0,d.vv)(e)},e))}),(0,a.jsx)(c.p,{placeholder:"Custom amount (min Rp 5,000)",value:b.amount,onChange:e=>F("amount",e.target.value),type:"number",min:"5000"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (Optional)"}),(0,a.jsx)("textarea",{placeholder:"Say something nice to the creator...",value:b.message,onChange:e=>F("message",e.target.value),rows:3,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 resize-none",maxLength:200}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[b.message.length,"/200 characters"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name"}),(0,a.jsx)(c.p,{placeholder:"Enter your name",value:b.donorName,onChange:e=>F("donorName",e.target.value),disabled:b.isAnonymous}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"anonymous",checked:b.isAnonymous,onChange:e=>F("isAnonymous",e.target.checked),className:"rounded border-gray-300"}),(0,a.jsx)("label",{htmlFor:"anonymous",className:"text-sm text-gray-600",children:"Donate anonymously"})]})]}),(0,a.jsx)(i.$,{onClick:_,disabled:w||!b.amount,className:"w-full py-3 text-lg",children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"mr-2 h-5 w-5"}),"Donate ",b.amount&&(0,d.vv)(parseFloat(b.amount))]})})]})]}),f.length>0&&(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center",children:[(0,a.jsx)(g.A,{className:"mr-2 h-5 w-5"}),"Recent Donations"]}),(0,a.jsx)(l.BT,{children:"Latest support from the community"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"space-y-3",children:f.map(e=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-400 to-red-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(h.A,{className:"h-4 w-4 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"font-medium text-indigo-600",children:(0,d.vv)(e.amount)}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["from ",e.isAnonymous?"Anonymous":e.donorName]})]}),e.message&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:['"',e.message,'"']}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:new Date(e.timestamp).toLocaleTimeString()})]})]},e.id))})})]}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-500",children:[(0,a.jsx)("p",{children:"Powered by SocialBuzz"}),(0,a.jsx)("p",{children:"Secure payments â€¢ Real-time notifications"})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading creator..."})]})})}},6629:(e,s,t)=>{"use strict";t.d(s,{cn:()=>r});var a=t(2596),n=t(9688);function r(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,n.QP)((0,a.$)(s))}},6654:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"useMergedRef",{enumerable:!0,get:function(){return n}});let a=t(2115);function n(e,s){let t=(0,a.useRef)(null),n=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=t.current;e&&(t.current=null,e());let s=n.current;s&&(n.current=null,s())}else e&&(t.current=r(e,a)),s&&(n.current=r(s,a))},[e,s])}function r(e,s){if("function"!=typeof e)return e.current=s,()=>{e.current=null};{let t=e(s);return"function"==typeof t?t:()=>e(null)}}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},7580:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[4699,6766,8572,8441,1684,7358],()=>s(3413)),_N_E=e.O()}]);