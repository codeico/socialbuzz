(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[399],{381:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(2895).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},962:(e,a,t)=>{"use strict";t.d(a,{N:()=>m});var r=t(5155);t(2115);var s=t(5695),l=t(8199),i=t(1007),n=t(1586),o=t(381),c=t(5525),d=t(4835),u=t(4236),h=t(6629);let m=e=>{let{children:a,activeTab:t,onTabChange:m}=e,{user:p,logout:x}=(0,u.A)(),g=(0,s.useRouter)(),f=[{id:"overview",label:"Overview",icon:l.A,path:"/dashboard"},{id:"profile",label:"Profile",icon:i.A,path:"/dashboard/profile"},{id:"transactions",label:"Transactions",icon:n.A,path:"/dashboard/transactions"},{id:"settings",label:"Settings",icon:o.A,path:"/dashboard/settings"}],b=e=>{g.push(e.path),m&&m(e.id)};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("nav",{className:"bg-white border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"SocialBuzz"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[p&&["admin","super_admin"].includes(p.role||"")&&(0,r.jsxs)("button",{onClick:()=>g.push("/admin"),className:"text-indigo-600 hover:text-indigo-700 text-sm font-medium px-3 py-2 rounded-md hover:bg-indigo-50 transition-colors",children:[(0,r.jsx)(c.A,{className:"w-4 h-4 inline mr-2"}),"Admin Panel"]}),(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:["Welcome, ",null==p?void 0:p.fullName]}),(0,r.jsxs)("button",{onClick:()=>{x(),g.push("/")},className:"inline-flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-500 bg-white hover:bg-gray-50 hover:text-gray-700 transition-colors",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"w-64 bg-white rounded-lg shadow-sm border border-gray-200 h-fit",children:(0,r.jsx)("nav",{className:"p-4 space-y-2",children:f.map(e=>{let a=e.icon;return(0,r.jsxs)("button",{onClick:()=>b(e),className:(0,h.cn)("w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors cursor-pointer",t===e.id?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,r.jsx)(a,{className:"w-5 h-5 mr-3"}),e.label]},e.id)})})}),(0,r.jsx)("div",{className:"flex-1 ml-6",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:a})})]})})})]})}},1007:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(2895).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1202:(e,a,t)=>{"use strict";t.d(a,{BT:()=>o,Wu:()=>c,ZB:()=>n,Zp:()=>l,aR:()=>i});var r=t(5155);t(2115);var s=t(6629);let l=e=>{let{children:a,className:t,...l}=e;return(0,r.jsx)("div",{className:(0,s.cn)("card",t),...l,children:a})},i=e=>{let{children:a,className:t,...l}=e;return(0,r.jsx)("div",{className:(0,s.cn)("card-header",t),...l,children:a})},n=e=>{let{children:a,className:t,...l}=e;return(0,r.jsx)("h3",{className:(0,s.cn)("card-title",t),...l,children:a})},o=e=>{let{children:a,className:t,...l}=e;return(0,r.jsx)("p",{className:(0,s.cn)("card-description",t),...l,children:a})},c=e=>{let{children:a,className:t,...l}=e;return(0,r.jsx)("div",{className:(0,s.cn)("card-content",t),...l,children:a})}},1586:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(2895).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},2716:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>p});var r=t(5155),s=t(2115),l=t(962),i=t(1202),n=t(4912),o=t(6076),c=t(4236),d=t(6766);let u=(0,t(2895).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var h=t(4229),m=t(3786);function p(){let{user:e}=(0,c.A)(),[a,t]=(0,s.useState)({fullName:"",bio:"",website:"",location:"",socialLinks:{twitter:"",instagram:"",youtube:"",tiktok:""}}),[p,x]=(0,s.useState)(""),[g,f]=(0,s.useState)(!1),[b,y]=(0,s.useState)(!0),[v,j]=(0,s.useState)(""),[N,k]=(0,s.useState)("");(0,s.useEffect)(()=>{e&&w()},[e]);let w=async()=>{try{y(!0);let e=localStorage.getItem("token"),a=await fetch("/api/v1/users/profile",{headers:{Authorization:"Bearer ".concat(e)}}),r=await a.json();if(r.success){let e=r.data;t({fullName:e.full_name||"",bio:e.bio||"",website:e.website||"",location:e.location||"",socialLinks:e.socialLinks||{twitter:"",instagram:"",youtube:"",tiktok:""}}),x(e.avatar||"")}else k("Failed to load profile data")}catch(e){console.error("Error loading profile:",e),k("Failed to load profile data")}finally{y(!1)}},A=e=>{let{name:a,value:r}=e.target;t(e=>({...e,[a]:r}))},S=(e,a)=>{t(t=>({...t,socialLinks:{...t.socialLinks,[e]:a}}))},C=async e=>{var a;let t=null==(a=e.target.files)?void 0:a[0];if(!t)return;let r=new FormData;r.append("file",t),r.append("type","avatar");try{let e=localStorage.getItem("token"),a=await fetch("/api/v1/uploads",{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:r}),t=await a.json();t.success?(x(t.data.url),j("Avatar uploaded successfully!")):k("Failed to upload avatar")}catch(e){k("Error uploading avatar")}},P=async e=>{e.preventDefault(),f(!0),k(""),j("");try{let e=localStorage.getItem("token"),t=await fetch("/api/v1/users/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({fullName:a.fullName,avatar:p,bio:a.bio,website:a.website,location:a.location,socialLinks:a.socialLinks})}),r=await t.json();r.success?(j("Profile updated successfully!"),await w()):k(r.error||"Failed to update profile")}catch(e){k("Error updating profile")}finally{f(!1)}};return b?(0,r.jsx)(l.N,{activeTab:"profile",onTabChange:()=>{},children:(0,r.jsx)("div",{className:"p-6 flex items-center justify-center min-h-[400px]",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})})}):(0,r.jsx)(l.N,{activeTab:"profile",onTabChange:()=>{},children:(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage your profile information and public presence."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Profile Photo"}),(0,r.jsx)(i.BT,{children:"Upload a photo that represents you"})]}),(0,r.jsx)(i.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.default,{src:p||"/default-avatar.png",alt:"Profile",width:128,height:128,className:"w-32 h-32 rounded-full object-cover border-4 border-gray-200"}),(0,r.jsxs)("label",{className:"absolute bottom-0 right-0 bg-indigo-600 text-white rounded-full p-2 cursor-pointer hover:bg-indigo-700",children:[(0,r.jsx)(u,{size:16}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:C,className:"hidden"})]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Click the camera icon to upload a new photo"})]})})]}),(0,r.jsxs)(i.Zp,{className:"lg:col-span-2",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Basic Information"}),(0,r.jsx)(i.BT,{children:"Your basic profile information"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[v&&(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-md text-sm",children:v}),N&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:N}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(o.p,{label:"Full Name",name:"fullName",value:a.fullName,onChange:A,required:!0}),(0,r.jsx)(o.p,{label:"Username",value:(null==e?void 0:e.username)||"",disabled:!0,className:"bg-gray-50"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),(0,r.jsx)("textarea",{name:"bio",value:a.bio,onChange:A,rows:4,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Tell people about yourself..."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(o.p,{label:"Website",name:"website",value:a.website,onChange:A,placeholder:"https://yourwebsite.com"}),(0,r.jsx)(o.p,{label:"Location",name:"location",value:a.location,onChange:A,placeholder:"City, Country"})]}),(0,r.jsxs)(n.$,{type:"submit",loading:g,children:[(0,r.jsx)(h.A,{size:16,className:"mr-2"}),"Save Changes"]})]})})]})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Social Links"}),(0,r.jsx)(i.BT,{children:"Connect your social media accounts"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(o.p,{label:"Twitter",value:a.socialLinks.twitter,onChange:e=>S("twitter",e.target.value),placeholder:"https://twitter.com/username"}),(0,r.jsx)(o.p,{label:"Instagram",value:a.socialLinks.instagram,onChange:e=>S("instagram",e.target.value),placeholder:"https://instagram.com/username"}),(0,r.jsx)(o.p,{label:"YouTube",value:a.socialLinks.youtube,onChange:e=>S("youtube",e.target.value),placeholder:"https://youtube.com/channel/..."}),(0,r.jsx)(o.p,{label:"TikTok",value:a.socialLinks.tiktok,onChange:e=>S("tiktok",e.target.value),placeholder:"https://tiktok.com/@username"})]})})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Public Profile"}),(0,r.jsx)(i.BT,{children:"Your public profile URL"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o.p,{value:"".concat(window.location.origin,"/profile/").concat(null==e?void 0:e.username),readOnly:!0,className:"bg-gray-50"}),(0,r.jsx)(n.$,{variant:"outline",onClick:()=>window.open("/profile/".concat(null==e?void 0:e.username),"_blank"),children:(0,r.jsx)(m.A,{size:16})})]})})]})]})})})}},3786:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(2895).A)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},4229:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(2895).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},4236:(e,a,t)=>{"use strict";t.d(a,{A:()=>l,O:()=>i});var r=t(2115);let s=(0,r.createContext)(void 0),l=()=>{let e=(0,r.useContext)(s);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},i=e=>{let{children:a}=e,[t,l]=(0,r.useState)(null),[i,n]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=localStorage.getItem("token");e?o(e):n(!1)},[]);let o=async e=>{try{let a=await fetch("/api/v1/users/me",{headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){let e=await a.json();e.success?l(e.data):localStorage.removeItem("token")}else localStorage.removeItem("token")}catch(e){console.error("Error fetching user:",e),localStorage.removeItem("token")}finally{n(!1)}},c=async e=>{try{let a=await fetch("/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await a.json();return t.success&&(localStorage.setItem("token",t.data.token),l(t.data.user)),t}catch(e){return console.error("Login error:",e),{success:!1,error:"Network error"}}},d=async e=>{try{let a=await fetch("/api/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await a.json();return t.success&&(localStorage.setItem("token",t.data.token),l(t.data.user)),t}catch(e){return console.error("Registration error:",e),{success:!1,error:"Network error"}}};return r.createElement(s.Provider,{value:{user:t,loading:i,login:c,register:d,logout:()=>{localStorage.removeItem("token"),l(null)},updateUser:e=>{t&&l({...t,...e})}}},a)}},4835:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(2895).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},4912:(e,a,t)=>{"use strict";t.d(a,{$:()=>l});var r=t(5155);t(2115);var s=t(6629);let l=e=>{let{children:a,variant:t="primary",size:l="md",icon:i,loading:n=!1,fullWidth:o=!1,className:c,disabled:d,...u}=e;return(0,r.jsxs)("button",{className:(0,s.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",destructive:"btn-destructive",outline:"btn-outline",ghost:"btn-ghost",link:"btn-link"}[t],{sm:"btn-sm",md:"h-10 px-4 py-2",lg:"btn-lg"}[l],o&&"w-full",c),disabled:d||n,...u,children:[n&&(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),!n&&i&&(0,r.jsx)(i,{className:"w-4 h-4 mr-2"}),a]})}},5525:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(2895).A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},5695:(e,a,t)=>{"use strict";var r=t(8999);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},6076:(e,a,t)=>{"use strict";t.d(a,{p:()=>l});var r=t(5155);t(2115);var s=t(6629);let l=e=>{let{label:a,error:t,fullWidth:l=!1,className:i,...n}=e;return(0,r.jsxs)("div",{className:(0,s.cn)("flex flex-col space-y-1",l&&"w-full"),children:[a&&(0,r.jsx)("label",{className:"text-sm font-medium text-foreground",children:a}),(0,r.jsx)("input",{className:(0,s.cn)("input",t&&"border-destructive",l&&"w-full",i),...n}),t&&(0,r.jsx)("span",{className:"text-sm text-destructive",children:t})]})}},6629:(e,a,t)=>{"use strict";t.d(a,{cn:()=>l});var r=t(2596),s=t(9688);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,r.$)(a))}},6654:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"useMergedRef",{enumerable:!0,get:function(){return s}});let r=t(2115);function s(e,a){let t=(0,r.useRef)(null),s=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=t.current;e&&(t.current=null,e());let a=s.current;a&&(s.current=null,a())}else e&&(t.current=l(e,r)),a&&(s.current=l(a,r))},[e,a])}function l(e,a){if("function"!=typeof e)return e.current=a,()=>{e.current=null};{let t=e(a);return"function"==typeof t?t:()=>e(null)}}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},7247:(e,a,t)=>{Promise.resolve().then(t.bind(t,2716))},8199:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(2895).A)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[4699,6766,8441,1684,7358],()=>a(7247)),_N_E=e.O()}]);