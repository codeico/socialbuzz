(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2163],{305:(e,s,t)=>{Promise.resolve().then(t.bind(t,9741))},1202:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>i,ZB:()=>o,Zp:()=>r,aR:()=>n});var a=t(5155);t(2115);var l=t(6629);let r=e=>{let{children:s,className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("card",t),...r,children:s})},n=e=>{let{children:s,className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("card-header",t),...r,children:s})},o=e=>{let{children:s,className:t,...r}=e;return(0,a.jsx)("h3",{className:(0,l.cn)("card-title",t),...r,children:s})},c=e=>{let{children:s,className:t,...r}=e;return(0,a.jsx)("p",{className:(0,l.cn)("card-description",t),...r,children:s})},i=e=>{let{children:s,className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("card-content",t),...r,children:s})}},2657:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3786:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},4229:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},4236:(e,s,t)=>{"use strict";t.d(s,{A:()=>r,O:()=>n});var a=t(2115);let l=(0,a.createContext)(void 0),r=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},n=e=>{let{children:s}=e,[t,r]=(0,a.useState)(null),[n,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=localStorage.getItem("token");e?c(e):o(!1)},[]);let c=async e=>{try{let s=await fetch("/api/v1/users/me",{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();e.success?r(e.data):localStorage.removeItem("token")}else localStorage.removeItem("token")}catch(e){console.error("Error fetching user:",e),localStorage.removeItem("token")}finally{o(!1)}},i=async e=>{try{let s=await fetch("/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await s.json();return t.success&&(localStorage.setItem("token",t.data.token),r(t.data.user)),t}catch(e){return console.error("Login error:",e),{success:!1,error:"Network error"}}},d=async e=>{try{let s=await fetch("/api/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await s.json();return t.success&&(localStorage.setItem("token",t.data.token),r(t.data.user)),t}catch(e){return console.error("Registration error:",e),{success:!1,error:"Network error"}}};return a.createElement(l.Provider,{value:{user:t,loading:n,login:i,register:d,logout:()=>{localStorage.removeItem("token"),r(null)},updateUser:e=>{t&&r({...t,...e})}}},s)}},4738:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},4912:(e,s,t)=>{"use strict";t.d(s,{$:()=>r});var a=t(5155);t(2115);var l=t(6629);let r=e=>{let{children:s,variant:t="primary",size:r="md",icon:n,loading:o=!1,fullWidth:c=!1,className:i,disabled:d,...m}=e;return(0,a.jsxs)("button",{className:(0,l.cn)("btn",{primary:"btn-primary",secondary:"btn-secondary",destructive:"btn-destructive",outline:"btn-outline",ghost:"btn-ghost",link:"btn-link"}[t],{sm:"btn-sm",md:"h-10 px-4 py-2",lg:"btn-lg"}[r],c&&"w-full",i),disabled:d||o,...m,children:[o&&(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),!o&&n&&(0,a.jsx)(n,{className:"w-4 h-4 mr-2"}),s]})}},6076:(e,s,t)=>{"use strict";t.d(s,{p:()=>r});var a=t(5155);t(2115);var l=t(6629);let r=e=>{let{label:s,error:t,fullWidth:r=!1,className:n,...o}=e;return(0,a.jsxs)("div",{className:(0,l.cn)("flex flex-col space-y-1",r&&"w-full"),children:[s&&(0,a.jsx)("label",{className:"text-sm font-medium text-foreground",children:s}),(0,a.jsx)("input",{className:(0,l.cn)("input",t&&"border-destructive",r&&"w-full",n),...o}),t&&(0,a.jsx)("span",{className:"text-sm text-destructive",children:t})]})}},6629:(e,s,t)=>{"use strict";t.d(s,{cn:()=>r});var a=t(2596),l=t(9688);function r(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,l.QP)((0,a.$)(s))}},9741:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(5155),l=t(2115),r=t(5695),n=t(1202),o=t(4912),c=t(6076),i=t(4236),d=t(4298),m=t(4738),h=t(2895);let u=(0,h.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var x=t(3786),j=t(2657);let p=(0,h.A)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),g=(0,h.A)("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),y=(0,h.A)("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);var v=t(4229);let b={theme:"default",showAmount:!0,showMessage:!0,showDonorName:!0,duration:5e3,soundEnabled:!0,soundVolume:.7,animationType:"slide",position:"top-right",fontSize:"medium",backgroundColor:"#1f2937",textColor:"#ffffff",accentColor:"#3b82f6"};function f(){let e=(0,r.useParams)().creatorId,{user:s}=(0,i.A)(),[t,h]=(0,l.useState)(b),[f,N]=(0,l.useState)(null),[k,w]=(0,l.useState)(!1),[S,C]=(0,l.useState)(!1),A="".concat("http://localhost:3000","/obs/").concat(e);(0,l.useEffect)(()=>{let s=localStorage.getItem("obs-settings-".concat(e));s&&h({...b,...JSON.parse(s)});let t=(0,d.io)("http://localhost:3000",{transports:["websocket","polling"]});return t.on("connect",()=>{console.log("Connected to WebSocket for testing")}),N(t),()=>{t.disconnect()}},[e]);let T=(e,s)=>{h(t=>({...t,[e]:s}))};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"OBS Donation Alerts"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Configure your donation alerts for streaming"})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center",children:[(0,a.jsx)(m.A,{className:"mr-2 h-5 w-5"}),"OBS Setup"]}),(0,a.jsx)(n.BT,{children:"Add this URL as a Browser Source in OBS Studio"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overlay URL"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.p,{value:A,readOnly:!0,className:"bg-gray-50 font-mono text-sm"}),(0,a.jsxs)(o.$,{onClick:()=>{navigator.clipboard.writeText(A),w(!0),setTimeout(()=>w(!1),2e3)},variant:"outline",children:[(0,a.jsx)(u,{className:"h-4 w-4 mr-2"}),k?"Copied!":"Copy"]}),(0,a.jsxs)(o.$,{onClick:()=>window.open(A,"_blank"),variant:"outline",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Preview"]})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"OBS Studio Setup Instructions:"}),(0,a.jsxs)("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[(0,a.jsx)("li",{children:"Open OBS Studio"}),(0,a.jsx)("li",{children:'Add a new "Browser Source" to your scene'}),(0,a.jsx)("li",{children:"Paste the URL above into the URL field"}),(0,a.jsx)("li",{children:"Set Width: 1920, Height: 1080"}),(0,a.jsx)("li",{children:'Check "Shutdown source when not visible"'}),(0,a.jsx)("li",{children:'Check "Refresh browser when scene becomes active"'})]})]})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center",children:[(0,a.jsx)(j.A,{className:"mr-2 h-5 w-5"}),"Display Settings"]}),(0,a.jsx)(n.BT,{children:"Configure what information to show in donation alerts"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"showAmount",checked:t.showAmount,onChange:e=>T("showAmount",e.target.checked),className:"rounded border-gray-300"}),(0,a.jsx)("label",{htmlFor:"showAmount",className:"text-sm font-medium text-gray-700",children:"Show donation amount"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"showDonorName",checked:t.showDonorName,onChange:e=>T("showDonorName",e.target.checked),className:"rounded border-gray-300"}),(0,a.jsx)("label",{htmlFor:"showDonorName",className:"text-sm font-medium text-gray-700",children:"Show donor name"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"showMessage",checked:t.showMessage,onChange:e=>T("showMessage",e.target.checked),className:"rounded border-gray-300"}),(0,a.jsx)("label",{htmlFor:"showMessage",className:"text-sm font-medium text-gray-700",children:"Show donation message"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alert Duration (seconds)"}),(0,a.jsx)("input",{type:"range",min:"3",max:"15",value:t.duration/1e3,onChange:e=>T("duration",1e3*parseInt(e.target.value)),className:"w-full"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[t.duration/1e3,"s"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),(0,a.jsxs)("select",{value:t.fontSize,onChange:e=>T("fontSize",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,a.jsx)("option",{value:"small",children:"Small"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"large",children:"Large"})]})]})]})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center",children:[(0,a.jsx)(p,{className:"mr-2 h-5 w-5"}),"Theme & Animation"]}),(0,a.jsx)(n.BT,{children:"Customize the look and feel of your alerts"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),(0,a.jsxs)("select",{value:t.theme,onChange:e=>T("theme",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,a.jsx)("option",{value:"default",children:"Default"}),(0,a.jsx)("option",{value:"neon",children:"Neon"}),(0,a.jsx)("option",{value:"minimal",children:"Minimal"}),(0,a.jsx)("option",{value:"gaming",children:"Gaming"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Animation Type"}),(0,a.jsxs)("select",{value:t.animationType,onChange:e=>T("animationType",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,a.jsx)("option",{value:"slide",children:"Slide"}),(0,a.jsx)("option",{value:"fade",children:"Fade"}),(0,a.jsx)("option",{value:"bounce",children:"Bounce"}),(0,a.jsx)("option",{value:"zoom",children:"Zoom"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),(0,a.jsxs)("select",{value:t.position,onChange:e=>T("position",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,a.jsx)("option",{value:"top-left",children:"Top Left"}),(0,a.jsx)("option",{value:"top-right",children:"Top Right"}),(0,a.jsx)("option",{value:"bottom-left",children:"Bottom Left"}),(0,a.jsx)("option",{value:"bottom-right",children:"Bottom Right"}),(0,a.jsx)("option",{value:"center",children:"Center"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accent Color"}),(0,a.jsx)("input",{type:"color",value:t.accentColor,onChange:e=>T("accentColor",e.target.value),className:"w-full h-10 border border-gray-300 rounded-md"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),(0,a.jsx)("input",{type:"color",value:t.backgroundColor,onChange:e=>T("backgroundColor",e.target.value),className:"w-full h-10 border border-gray-300 rounded-md"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Color"}),(0,a.jsx)("input",{type:"color",value:t.textColor,onChange:e=>T("textColor",e.target.value),className:"w-full h-10 border border-gray-300 rounded-md"})]})]})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center",children:[(0,a.jsx)(g,{className:"mr-2 h-5 w-5"}),"Sound Settings"]}),(0,a.jsx)(n.BT,{children:"Configure audio alerts for donations"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"soundEnabled",checked:t.soundEnabled,onChange:e=>T("soundEnabled",e.target.checked),className:"rounded border-gray-300"}),(0,a.jsx)("label",{htmlFor:"soundEnabled",className:"text-sm font-medium text-gray-700",children:"Enable sound alerts"})]}),t.soundEnabled&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sound Volume"}),(0,a.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.soundVolume,onChange:e=>T("soundVolume",parseFloat(e.target.value)),className:"w-full"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[Math.round(100*t.soundVolume),"%"]})]})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center",children:[(0,a.jsx)(y,{className:"mr-2 h-5 w-5"}),"Testing"]}),(0,a.jsx)(n.BT,{children:"Test your donation alerts to see how they look"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(o.$,{onClick:()=>{f&&f.emit("test-donation",{creatorId:e})},className:"w-full",children:"Send Test Donation"}),(0,a.jsx)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,a.jsx)("strong",{children:"Note:"})," Make sure your OBS overlay is open in another tab to see the test donation alert."]})})]})})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(o.$,{onClick:()=>{localStorage.setItem("obs-settings-".concat(e),JSON.stringify(t)),C(!0),setTimeout(()=>C(!1),2e3)},className:"px-8",children:[(0,a.jsx)(v.A,{className:"mr-2 h-4 w-4"}),S?"Saved!":"Save Settings"]})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4699,8572,8441,1684,7358],()=>s(305)),_N_E=e.O()}]);